{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar _jsxFileName = \"C:\\\\Users\\\\Darth Vader\\\\Desktop\\\\will_and_skill\\\\pages\\\\login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport Layout from \"../components/layout\";\nimport React, { useState } from \"react\";\nimport { VerifyToken } from \"./auth/auth\";\n\nconst Login = () => {\n  const {\n    0: email,\n    1: setEmail\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n\n  const GetToken = function (email, password) {\n    fetch(\"https://beta.stockzoom.com/api-token-auth/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json; charset=utf-8\"\n      },\n      body: `{\"password\": \"${password}\", \"email\": \"${email}\"}`\n    }).then(response => {\n      if (response.ok) {\n        response.json().then(({\n          token\n        }) => RefreshToken(token));\n      } else {\n        console.log(\"error! couldn´t get token\");\n      }\n    });\n  };\n\n  const RefreshToken = function (token) {\n    fetch(\"https://beta.stockzoom.com/api-token-refresh/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json; charset=utf-8\"\n      },\n      body: _JSON$stringify({\n        token: token\n      })\n    }).then(response => {\n      if (response.ok) {\n        response.json().then(({\n          token\n        }) => VerifyToken(token));\n      } else {\n        console.log(\"error! couldn´t refresh token\");\n      }\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    GetToken(email, password);\n  };\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-796533675\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    className: \"jsx-796533675\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    className: \"jsx-796533675\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-796533675\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Log in\")), __jsx(_JSXStyle, {\n    id: \"796533675\",\n    __self: this\n  }, \".jsx-796533675{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:auto;}form.jsx-796533675{width:50%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}input.jsx-796533675{margin:10px 0;width:100%;}button.jsx-796533675{border-radius:5px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcRGFydGggVmFkZXJcXERlc2t0b3BcXHdpbGxfYW5kX3NraWxsXFxwYWdlc1xcbG9naW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZ0VrQixBQUVzQixBQUlELEFBS0ksQUFJSSxVQVJLLElBS1osSUFJYixPQUhBLGlEQVZzQixtQ0FLRCwyQ0FKVCxZQWFkLHNDQVJFIiwiZmlsZSI6IkM6XFxVc2Vyc1xcRGFydGggVmFkZXJcXERlc2t0b3BcXHdpbGxfYW5kX3NraWxsXFxwYWdlc1xcbG9naW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTGF5b3V0IGZyb20gXCIuLi9jb21wb25lbnRzL2xheW91dFwiO1xyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgVmVyaWZ5VG9rZW4gfSBmcm9tIFwiLi9hdXRoL2F1dGhcIlxyXG5cclxuXHJcbmNvbnN0IExvZ2luID0gKCkgPT4ge1xyXG4gIGNvbnN0IFtlbWFpbCwgc2V0RW1haWxdID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgY29uc3QgW3Bhc3N3b3JkLCBzZXRQYXNzd29yZF0gPSB1c2VTdGF0ZShcIlwiKTtcclxuXHJcbiAgY29uc3QgR2V0VG9rZW4gPSBmdW5jdGlvbihlbWFpbCwgcGFzc3dvcmQpIHtcclxuICAgIGZldGNoKFwiaHR0cHM6Ly9iZXRhLnN0b2Nrem9vbS5jb20vYXBpLXRva2VuLWF1dGgvXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IGB7XCJwYXNzd29yZFwiOiBcIiR7cGFzc3dvcmR9XCIsIFwiZW1haWxcIjogXCIke2VtYWlsfVwifWBcclxuICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICByZXNwb25zZS5qc29uKCkudGhlbigoeyB0b2tlbiB9KSA9PiBSZWZyZXNoVG9rZW4odG9rZW4pKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3IhIGNvdWxkbsK0dCBnZXQgdG9rZW5cIilcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuICBjb25zdCBSZWZyZXNoVG9rZW4gPSBmdW5jdGlvbih0b2tlbikge1xyXG4gICAgZmV0Y2goXCJodHRwczovL2JldGEuc3RvY2t6b29tLmNvbS9hcGktdG9rZW4tcmVmcmVzaC9cIiwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCJcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIHRva2VuOiB0b2tlblxyXG4gICAgICB9KVxyXG4gICAgfSkudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKCh7IHRva2VuIH0pID0+IFZlcmlmeVRva2VuKHRva2VuKSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yISBjb3VsZG7CtHQgcmVmcmVzaCB0b2tlblwiKVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGUgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgR2V0VG9rZW4oZW1haWwsIHBhc3N3b3JkKTtcclxuICB9O1xyXG4gIHJldHVybiAoXHJcbiAgICA8TGF5b3V0PlxyXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fT5cclxuICAgICAgICA8aW5wdXRcclxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW1haWxcIlxyXG4gICAgICAgICAgdmFsdWU9e2VtYWlsfVxyXG4gICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0RW1haWwoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJQYXNzd29yZFwiXHJcbiAgICAgICAgICB2YWx1ZT17cGFzc3dvcmR9XHJcbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRQYXNzd29yZChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgLz5cclxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj5Mb2cgaW48L2J1dHRvbj5cclxuICAgICAgPC9mb3JtPlxyXG4gICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIG1hcmdpbjogYXV0bztcclxuICAgICAgICBmb3JtIHtcclxuICAgICAgICAgIHdpZHRoOiA1MCU7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlucHV0IHtcclxuICAgICAgICAgIG1hcmdpbjogMTBweCAwO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJ1dHRvbiB7XHJcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgICAgfVxyXG4gICAgICBgfTwvc3R5bGU+XHJcbiAgICA8L0xheW91dD5cclxuICApO1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExvZ2luO1xyXG4iXX0= */\\n/*@ sourceURL=C:\\\\Users\\\\Darth Vader\\\\Desktop\\\\will_and_skill\\\\pages\\\\login.js */\"));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:\\Users\\Darth Vader\\Desktop\\will_and_skill\\pages\\login.js"],"names":["Layout","React","useState","VerifyToken","Login","email","setEmail","password","setPassword","GetToken","fetch","method","headers","body","then","response","ok","json","token","RefreshToken","console","log","handleSubmit","e","preventDefault","target","value"],"mappings":";;;;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,QAA4B,aAA5B;;AAGA,MAAMC,KAAK,GAAG,MAAM;AAClB,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBJ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACK,QAAD;AAAA,OAAWC;AAAX,MAA0BN,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMO,QAAQ,GAAG,UAASJ,KAAT,EAAgBE,QAAhB,EAA0B;AACzCG,IAAAA,KAAK,CAAC,4CAAD,EAA+C;AAClDC,MAAAA,MAAM,EAAE,MAD0C;AAElDC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFyC;AAKlDC,MAAAA,IAAI,EAAG,iBAAgBN,QAAS,gBAAeF,KAAM;AALH,KAA/C,CAAL,CAMGS,IANH,CAMQC,QAAQ,IAAI;AAClB,UAAIA,QAAQ,CAACC,EAAb,EAAiB;AACfD,QAAAA,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAqB,CAAC;AAAEI,UAAAA;AAAF,SAAD,KAAeC,YAAY,CAACD,KAAD,CAAhD;AACD,OAFD,MAGI;AACFE,QAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACD;AACF,KAbD;AAcD,GAfD;;AAgBA,QAAMF,YAAY,GAAG,UAASD,KAAT,EAAgB;AACnCR,IAAAA,KAAK,CAAC,+CAAD,EAAkD;AACrDC,MAAAA,MAAM,EAAE,MAD6C;AAErDC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAF4C;AAKrDC,MAAAA,IAAI,EAAE,gBAAe;AACnBK,QAAAA,KAAK,EAAEA;AADY,OAAf;AAL+C,KAAlD,CAAL,CAQGJ,IARH,CAQQC,QAAQ,IAAI;AAClB,UAAIA,QAAQ,CAACC,EAAb,EAAiB;AACfD,QAAAA,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAqB,CAAC;AAAEI,UAAAA;AAAF,SAAD,KAAef,WAAW,CAACe,KAAD,CAA/C;AACD,OAFD,MAGI;AACFE,QAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACD;AACF,KAfD;AAgBD,GAjBD;;AAkBA,QAAMC,YAAY,GAAGC,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACAf,IAAAA,QAAQ,CAACJ,KAAD,EAAQE,QAAR,CAAR;AACD,GAHD;;AAIA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEe,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,WAAW,EAAC,OAFd;AAGE,IAAA,KAAK,EAAEjB,KAHT;AAIE,IAAA,QAAQ,EAAEkB,CAAC,IAAIjB,QAAQ,CAACiB,CAAC,CAACE,MAAF,CAASC,KAAV,CAJzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,WAAW,EAAC,UAFd;AAGE,IAAA,KAAK,EAAEnB,QAHT;AAIE,IAAA,QAAQ,EAAEgB,CAAC,IAAIf,WAAW,CAACe,CAAC,CAACE,MAAF,CAASC,KAAV,CAJ5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAaE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAbF,CADF;AAAA;AAAA;AAAA,ysIADF;AAoCD,CA9ED;;AAiFA,eAAetB,KAAf","sourcesContent":["import Layout from \"../components/layout\";\r\nimport React, { useState } from \"react\";\r\nimport { VerifyToken } from \"./auth/auth\"\r\n\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const GetToken = function(email, password) {\r\n    fetch(\"https://beta.stockzoom.com/api-token-auth/\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\"\r\n      },\r\n      body: `{\"password\": \"${password}\", \"email\": \"${email}\"}`\r\n    }).then(response => {\r\n      if (response.ok) {\r\n        response.json().then(({ token }) => RefreshToken(token));\r\n      }\r\n      else{\r\n        console.log(\"error! couldn´t get token\")\r\n      }\r\n    });\r\n  };\r\n  const RefreshToken = function(token) {\r\n    fetch(\"https://beta.stockzoom.com/api-token-refresh/\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\"\r\n      },\r\n      body: JSON.stringify({\r\n        token: token\r\n      })\r\n    }).then(response => {\r\n      if (response.ok) {\r\n        response.json().then(({ token }) => VerifyToken(token));\r\n      }\r\n      else{\r\n        console.log(\"error! couldn´t refresh token\")\r\n      }\r\n    });\r\n  };\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    GetToken(email, password);\r\n  };\r\n  return (\r\n    <Layout>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={e => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={e => setPassword(e.target.value)}\r\n        />\r\n        <button type=\"submit\">Log in</button>\r\n      </form>\r\n      <style jsx>{`\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin: auto;\r\n        form {\r\n          width: 50%;\r\n          justify-content: center;\r\n          align-items: center;\r\n        }\r\n        input {\r\n          margin: 10px 0;\r\n          width: 100%;\r\n        }\r\n        button {\r\n          border-radius: 5px;\r\n        }\r\n      `}</style>\r\n    </Layout>\r\n  );\r\n};\r\n\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}